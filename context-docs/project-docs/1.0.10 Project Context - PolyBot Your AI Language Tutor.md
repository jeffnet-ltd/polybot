**Version:** 1.0.10 (Rich Curriculum & Gamification) **Status:** Development - Finalizing Chat Experience **Last Updated:** 2025-11-28 **Dev Environment:** HP EliteBook 820 G4 / Windows 11 WSL2 (NVIDIA RTX 2080 Ti - Docker Desktop with GPU Support)

## Executive Summary

Polybot is an **AI-powered multilingual language learning platform** that runs entirely locally. It provides structured conversational practice based on the **CEFR** curriculum.

**Key Differentiator:** True bilingual learning - users learn in their target language while receiving explanations in their native language.

**Current Status:** The platform is fully functional and highly optimized. Users can register, select a language pair, progress through interactive lessons (Flashcards, Matching, Sentence Building), and earn XP. The AI model (BLOOMZ-3B) is running on **GPU (NVIDIA CUDA)** via Docker Desktop, providing near-instant response times.

## Technical Architecture

### Stack Overview

```
Frontend: React 18.2.0 + Tailwind CSS + Lucide React
Backend: FastAPI (Python 3.11) + BLOOM AI (Instruct Tuned)
Database: MongoDB 7.0
Infrastructure: Docker + Docker Compose (V2) - Docker Desktop (WSL2 Backend)
AI Model: BLOOMZ 3b (Loaded on NVIDIA CUDA GPU)
```

### System Architecture

```
┌─────────────┐      ┌─────────────┐      ┌─────────────┐
│   React     │────▶│   FastAPI   │────▶│   MongoDB   │
│  Frontend   │      │   Backend   │      │   Database  │
│  Port 3000  │      │  Port 8000  │      │ Port 27017  │
└─────────────┘      └─────────────┘      └─────────────┘
                            │
                            ▼
                     ┌─────────────┐
                     │ BLOOMZ Model│
                     │ (NVIDIA GPU)│
                     └─────────────┘
```

### Networking (Docker)

- **Network:** `polybot_network` (Bridge driver)     
    
- **Service Discovery:**          - Frontend talks to Backend via `http://localhost:8000` (Client-side context)              - Backend talks to Database via `mongodb://mongodb:27017`         
    

## File Structure (Current)

```
polybot/
├── .env                      # Global config (MONGO_URL, MODEL_NAME)
├── docker-compose.yml        # V2 Syntax, Includes GPU Deploy Config
├── backend/
│   ├── server.py             # FastAPI + MongoDB + BLOOM Logic (Background Loader)
│   ├── requirements.txt
│   └── Dockerfile            # Python 3.11 Slim
├── frontend/
│   ├── package.json          # React 18.2.0 + Axios
│   ├── Dockerfile            # Node 18 Alpine
│   ├── public/
│   │   └── index.html
│   └── src/
│       ├── index.js
│       ├── index.css
│       └── App.jsx           # Main App Logic (UI, Exercises, Logic)
```

## Current Critical Issues

- **Chat Initiation:** The chat mode is currently passive. The user has to say "Hello" first. For a "Boss Fight" scenario, **Polybot should initiate the conversation** based on the lesson context (e.g., "Ciao! Come ti chiami?").
    
- **Chat Feedback:** The AI's correction logic is working, but the UI for displaying corrections could be cleaner (currently just text blocks).
    

## Next Steps (Prioritized)

1. **AI Initiation:** Update `server.py` and `App.jsx` so that when the Chat View loads after a lesson, the AI automatically sends the first message to prompt the user (e.g., "Welcome! What is your name?"). Currently the AI's first message says "Hello" and below, "Reply to start practicing!"
    
2. **Conversation Goals:** Give the user a specific goal for the chat (e.g., "Successfully introduce yourself").