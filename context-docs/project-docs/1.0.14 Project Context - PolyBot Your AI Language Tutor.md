Version: 1.0.14 (Full A1 Curriculum & Social Auth)

Status: Production Ready - Content Expansion & Polishing

Last Updated: 2025-11-29

Dev Environment: HP EliteBook 820 G4 / Windows 11 WSL2 (NVIDIA RTX 2080 Ti - Docker Desktop with GPU Support)

## Executive Summary

Polybot is an **AI-powered multilingual language learning platform** that runs entirely locally. It combines a structured **10-module CEFR A1 Curriculum** with free-flowing AI roleplay to provide a "True Bilingual" learning experience.

**Key Differentiator:** Users learn in their target language while receiving explanations in their native language. The AI runs locally (Llama 3 8B), ensuring total privacy and zero latency.

## Technical Architecture

### Stack Overview

- **Frontend:** React 18.2.0 + Tailwind CSS + Lucide React
    
- **Backend:** FastAPI (Python 3.11) + **Llama 3 8B Instruct**
    
- **Auth:** **Google OAuth 2.0** (via `authlib`) + Local Session Management
    
- **Database:** MongoDB 7.0
    
- **Infrastructure:** Docker + Docker Compose (V2) - Docker Desktop (WSL2 Backend)
    

### Hardware Requirement

- **AI Model:** Llama 3 8B Instruct loaded with `device_map="auto"` and `bfloat16` precision on NVIDIA CUDA GPU.
    

---

## Resolved Critical Issues (V1.0.14)

|**Component**|**Issue**|**Resolution**|
|---|---|---|
|**Curriculum**|Content Depth|**RESOLVED.** Expanded content DB to include a complete **10-Module CEFR A1 Course** (Greetings, Numbers, Food, Family, Routine, Home, Weather, Travel, Hobbies, Health).|
|**Authentication**|Social Login|**RESOLVED.** Implemented **Google OAuth 2.0** flow. Backend handles token exchange and user creation securely. Added "New User" detection (0 XP) to trigger the setup flow.|
|**Onboarding**|User Flow|**RESOLVED.** Created a dedicated **Language Setup Screen**. New users are automatically routed here to select Native/Target languages before accessing the dashboard.|
|**Data Integrity**|Multi-Language Support|**RESOLVED.** Vocabulary and Lesson Progress are now tagged with `target_lang`. Users can switch languages (e.g., Spanish to Italian) and have separate progress tracks for each.|
|**UI / Visuals**|Flag Icons|**RESOLVED.** Implemented **FlagCDN** (SVG images) for language icons to ensure cross-platform compatibility (fixing Windows text-only display).|
|**UX / Navigation**|Language Switching|**RESOLVED.** Switching languages via the top bar now **automatically redirects** the user to the _Lessons_ page. Added validation to prevent selecting the same language for Native/Target.|
|**Lesson UI**|Scoring Logic|**RESOLVED.** `MatchExercise` now uses "Strict Mode" (one attempt per pair; errors lock the pair in red) to prevent brute-force guessing.|

---

## Core Features & User Flow

1. **Registration/Login:**
    
    - **Social Login:** "Continue with Google" (Fully functional).
        
    - **Smart Onboarding:** Users with 0 XP are routed to _Language Setup_ to choose their languages.
        
2. **Dashboard (Main Screen):**
    
    - **Curriculum View:** Displays 10 unlocked modules (A1.1 - A1.10).
        
    - **Sidebar:** Shows current profile with Flag Icons (e.g., ðŸ‡®ðŸ‡¹ from ðŸ‡¬ðŸ‡§).
        
    - **Vocabulary View:** Filters word list to show only words relevant to the _current_ target language.
        
3. **AI Tutor (Boss Fight):**
    
    - **Scenario:** Dynamic based on lesson (e.g., "Order Coffee", "Buy Ticket").
        
    - **Mechanism:** AI initiates chat. User responds. AI assesses progress and corrects grammar via hover-over pop-ups.
        
    - **Completion:** Strict logic checks for specific communicative goals (e.g., "State Name") to trigger success.
        

## Next Steps (Roadmap)

1. **Mobile App Conversion:** Package the React frontend into a native container (Capacitor/React Native) for iOS/Android deployment.
    
2. **Voice Integration:** Add Speech-to-Text (Whisper) for voice input in the chat.
    
3. **Meta/Apple Auth:** Complete the implementation of Facebook and Apple login handlers (currently placeholders).